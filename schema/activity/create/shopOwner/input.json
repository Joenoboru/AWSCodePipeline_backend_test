{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "description": "POST /activity Activity.create input data",
  "properties": {
    "name": {
      "type": "string",
      "description": "活動名稱"
    },
    "description": {
      "type": "string",
      "description": "活動敘述"
    },
    "limit": {
      "type": "integer",
      "description": "參加活動次數限制"
    },
    "type_id": {
      "type": "integer",
      "description": "活動類型編號"
    },
    "class": {
      "type": "integer",
      "description": "活動類型分類"
    },
    "start_time": {
      "type": ["string", "null"],
      "description": "活動開始時間"
    },
    "end_time": {
      "type": ["string", "null"],
      "description": "活動結束時間"
    },
    "use_start_time": {
      "type": ["string", "null"],
      "description": "折扣使用期限(開始)"
    },
    "use_end_time": {
      "type": ["string", "null"],
      "description": "折扣使用期限(結束)"
    },
    "use_days": {
      "type": "integer",
      "description": "折扣可使用天數"
    },
    "status": {
      "type": "integer",
      "description": "活動狀態(0: 關閉 1: 開啟）",
      "enum": [0, 1]
    },
    "share_discount": {
      "type": "array",
      "description": "分享獎勵內容",
      "minItems": 1,
      "maxItems": 1,
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "折扣名稱"
          },
          "unlimit": {
            "type": "integer",
            "description": "折扣狀態(0:有限制數量 1: 無限制數量）",
            "enum": [0, 1]
          },
          "quantity": {
            "type": "integer",
            "description": "折扣數量"
          },
          "description": {
            "type": "string",
            "description": "使用說明"
          },
          "status": {
            "type": "integer",
            "description": "分享獎勵設定是否開啟(0: 關閉 1: 開啟）",
            "enum": [0, 1]
          },
          "picture": {
            "type": "array",
            "description": "圖片資訊",
            "maxItems": 10,
            "items": {
              "type": "object",
              "properties": {
                "url": {
                  "type": "string",
                  "description": "圖片url"
                }
              },
              "additionalProperties": false
            }
          },
          "use_serial_num": {
            "type": "integer",
            "description": "流水號是否開啟(0: 關閉 1: 開啟）",
            "enum": [0, 1]
          },
          "serial_num_setting": {
            "type": ["object", "null"],
            "description": "流水號設定",
            "properties": {
              "prefix": {
                "type": "string",
                "description": "流水號前綴",
                "maxLength": 4
              },
              "length": {
                "type": "number",
                "description": "流水號長度",
                "maximum": 8,
                "minimum": 1
              },
              "start": {
                "type": "number",
                "description": "流水號起始",
                "minimum": 1
              },
              "end": {
                "type": "number",
                "description": "流水號結束",
                "maximum": 99999999
              }
            },
            "additionalProperties": false
          },
          "notes": {
            "type": ["string", "null"],
            "description": "備註"
          }
        },
        "additionalProperties": false,
        "required": [
          "name",
          "unlimit"
        ]
      }
    },
    "no_bingo_discount": {
      "type": "array",
      "description": "無中獎內容",
      "minItems": 1,
      "maxItems": 1,
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "折扣名稱"
          },
          "rate": {
            "type": "integer",
            "description": "折扣中獎機率"
          },
          "unlimit": {
            "type": "integer",
            "description": "折扣狀態(0:有限制數量 1: 無限制數量）",
            "enum": [1]
          },
          "description": {
            "type": "string",
            "description": "使用說明"
          },
          "status": {
            "type": "integer",
            "description": "無中獎設定是否開啟(0: 關閉 1: 開啟）",
            "enum": [0, 1]
          },
          "picture": {
            "type": "array",
            "description": "圖片資訊",
            "maxItems": 10,
            "items": {
              "type": "object",
              "properties": {
                "url": {
                  "type": "string",
                  "description": "圖片url"
                }
              },
              "additionalProperties": false
            }
          }
        },
        "additionalProperties": false,
        "required": [
          "name",
          "rate",
          "unlimit"
        ]
      }
    },
    "discounts": {
      "type": "array",
      "description": "折扣內容",
      "minItems": 1,
      "maxItems": 10,
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "折扣名稱"
          },
          "rate": {
            "type": "integer",
            "description": "折扣中獎機率"
          },
          "unlimit": {
            "type": "integer",
            "description": "折扣狀態(0:有限制數量 1: 無限制數量）",
            "enum": [0, 1]
          },
          "quantity": {
            "type": "integer",
            "description": "折扣數量"
          },
          "number": {
            "type": "integer",
            "description": "卷的數量",
            "minimum": 0,
            "maximum": 20
          },
          "price": {
            "type": "number",
            "description": "項目金額",
            "minimum": 0
          },
          "description": {
            "type": "string",
            "description": "使用說明"
          },
          "picture": {
            "type": "array",
            "description": "圖片資訊",
            "maxItems": 10,
            "items": {
              "type": "object",
              "properties": {
                "url": {
                  "type": "string",
                  "description": "圖片url"
                }
              },
              "additionalProperties": false
            }
          },
          "use_serial_num": {
            "type": "integer",
            "description": "流水號是否開啟(0: 關閉 1: 開啟）",
            "enum": [0, 1]
          },
          "serial_num_setting": {
            "type": ["object", "null"],
            "description": "流水號設定",
            "properties": {
              "prefix": {
                "type": "string",
                "description": "流水號前綴",
                "maxLength": 4
              },
              "length": {
                "type": "number",
                "description": "流水號長度",
                "maximum": 8,
                "minimum": 1
              },
              "start": {
                "type": "number",
                "description": "流水號起始",
                "minimum": 1
              },
              "end": {
                "type": "number",
                "description": "流水號結束",
                "maximum": 99999999
              }
            },
            "additionalProperties": false
          },
          "notes": {
            "type": ["string", "null"],
            "description": "備註"
          }
        },
        "additionalProperties": false,
        "required": [
          "name",
          "rate",
          "unlimit"
        ]
      }
    },
    "picture": {
      "type": "array",
      "description": "圖片資訊",
      "maxItems": 10,
      "items": {
        "type": "object",
        "properties": {
          "url": {
            "type": "string",
            "description": "圖片url"
          }
        },
        "additionalProperties": false
      }
    },
    "tags": {
      "type": "array",
      "description": "標籤資訊",
      "maxItems": 20,
      "items": {
        "type": "integer",
        "description": "標籤編號"
      }
    },
    "notes": {
      "type": ["string", "null"],
      "description": "備註"
    },
    "writeoff_type": {
      "type": "integer",
      "description": "商品卷核銷方式(0: QRcode 1:快速)",
      "enum": [0, 1]
    }
  },
  "additionalProperties": false,
  "required": [
    "name",
    "limit",
    "type_id",
    "class",
    "discounts"
  ]
} 